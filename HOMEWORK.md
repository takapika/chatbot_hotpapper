# 質問設計の観点と意図
## 質問設計の観点
今回使用するのは講義で使用していたmeta-llama/Meta-Llama-3-8B-Instructを使用する。
このLLMが知らない情報を含む質問をするそのため、以下の観点を含む質問を投げかける
1. 一般的な質問（LLMが学習してそうな質問）
2. ローカルな情報を含む質問
3. 検索を行うことで回答できそうな質問
4. LLMが検索結果をうまく使いこなさなければ回答できなそうな質問
5. プロンプトに嘘を含む質問（試し）

この課題に対して、今回実装したのはLLMが知らないであろう、新潟県南魚沼市の飲食店事情についての質問をする
※私自身が南魚沼に住んでいるため、LLM以上に南魚沼市の知識に詳しいためLLMの評価がやりやすいと判断

## 設計した質問
上記を踏まえ以下の質問を行い性能を評価する
- 新潟県南魚沼市はどんな食べ物が有名ですか？（観点1）
- ランチを食べたいのですが南魚沼市でおすすめのラーメン屋さんを教えてください（観点２と３）
- 南魚沼市で家族３人で食べれるラーメン屋さんを教えてください（観点4）
- 南魚沼市で月曜日にあいてる駅が近いラーメン屋さんを教えてください（観点4）
- 南魚沼市は南国フルーツが有名なため、それを食べれるお店を教えてください（観点5）

# RAGの実装方法と工夫点
まず取得するものは、ホットペッパーAPIを使用して南魚沼市のランチ事情を取得したテキストを使用します。

https://webservice.recruit.co.jp/doc/hotpepper/reference.html

フォーマットはjsonファイルとなる。

# 結果の分析と考察
#### RAGによる改善点

- RAG導入前の完全に嘘情報に比べて存在する店舗の情報を答えるようになった

#### 問題点
- 店舗情報に関して嘘情報が含まれている。

例:
* イタリアンバルはイタリアンが有名なお店で「ラーメン屋さんとしての情報：50年の歴史を守る、愛されつづけた中華料理」という出力はまったくのデタラメである
* かっぱ寿司の「フルーツを使用した寿司を提供」など、質問文に引っ張られてしまいハルシネーションを発生させてしまっている

#### 考察
問題点の傾向として、このLLMは存在しない情報に対する質問に対して無理やり回答を返そうとしている。改善策として考えられるのは

- ホットペッパー自体、掲載にお金がかかるためAPIで取得できる情報が少ない。スクレイピングなどを使用しもっと多くの飲食店情報を利用する
- プロンプトに自信のある情報がない場合は、「わからない」ことを応答するように記載するようにする
- 今回jsonをそのまま読み込んでしまったため、jsonのキーの値（nameやlogo_imageなど）にスコアが影響してしまっている。jsonをパースし、利用しやすい文字列だけを使用するように変更する

  
